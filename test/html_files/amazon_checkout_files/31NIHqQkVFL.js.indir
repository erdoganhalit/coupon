(function(c){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,a=f?f("AddressSelectCheckoutAssets",""):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,f){c.when("A","ready").register("prefetch-optimisation",function(a){function b(a){var e=c("form.checkout-page-form");0<e.length&&e.removeClass("checkout-page-form");a.find("form").addClass("checkout-page-form");c("form.checkout-page-form").data("checkoutFormReady",!0).change()}function e(a){a=
"AddressSelectCheckoutAssets:"+a;var e=d.ue;if(e&&"function"===typeof e.count){var b=(e.count(a)||0)+1;e.count(a,b)}}var c=a.$;c(function(){var a=c("[data-a-accordion-row-name\x3d'destination-accordion-row-address-0']"),d=c("[data-a-accordion-row-name\x3d'destination-accordion-row-locker-0']");0<a.length?(e("PREFETCH_FIRST_ADDRESS"),b(a)):0<d.length&&(e("PREFETCH_FIRST_LOCKER"),b(d))});a.on("a:accordion:destination-accordion:select",function(a){a=a.selectedRow.$row;e("PREFETCH_SELECTED_DESTINATION");
b(a)})});"use strict";c.when("A").register("destination-accordion-helper",function(a){var b=a.$;a.on("a:accordion:destination-accordion:select",function(a){0<b("[data-a-accordion-name\x3d'shipByMessage-accordion']").find(".shipByMessage-accordion-row").length&&(b(".shipByMessage-accordion-row").removeClass("a-accordion-active"),b(".shipByMessage-accordion-row-content").css("display","none"),a=b(".shipByMessage-accordion-row-header"),a.attr("aria-checked",!1),a.attr("aria-expanded",!1),a.find("i").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive"))})});
"use strict";c.when("A","page-conductor","cache-page-data-controller","ready").register("address-select-submission-url-update",function(a,b,e){var c=a.$;a.declarative("select-destination-on-sasp-desktop-panel","click",function(a){a=a.$target;if(!a.is("a")){a=a.closest("[id^\x3dselect-destination-on-sasp-desktop-panel-id-]").find('input[type\x3d"radio"]');var d=c('form[name\x3d"addressSelectForm"]');d[0].action=a.val();d.data("enableFormPrefetch")&&(a.attr("checked","checked"),0<d.find("input:checked").length&&
(b.disablePageNoUpdateTransition(),e.clearCache(),d.data("checkoutFormReady",!0),b.makePrefetch(d),d.data("checkoutFormReady",!1)))}})});"use strict";c.when("A","page-conductor","cache-page-data-controller","ready").register("prefetch-default-selected-address",function(a,b,e){var d=a.$;a.on("checkout:reload:shipaddressselect",function(){var a=d('form[name\x3d"addressSelectForm"]');e.clearCache();a.data("checkoutFormReady",!0);b.makePrefetch(a);a.data("checkoutFormReady",!1)})});"use strict";c.when("A",
"a-button","address-select-csm-utils","ready").register("desktop-zero-address-helper",function(a,b,e){var d=a.$;a.on("checkout:reload:shipaddressselect",function(){if(0===d("#sasp-desktop-zero-address-flag-hidden-element-id").length)e.incrementCounter("SASP:ZERO_ADDRESS:NO");else{e.incrementCounter("SASP:ZERO_ADDRESS:YES");var a=b("#checkout-secondary-continue-button-id");a?a.disable():(e.incrementCounter("SASP:ZERO_ADDRESS:SEC_CONT_NOT_FOUND"),e.logError({message:"Failed to find secondary continue button on shipping address select page for zero address use case"},
{logLevel:"FATAL",attribution:"SASP:Desktop:ZeroAddress:SecondaryContinue"}))}})});"use strict";c.when("A","address-select-csm-utils").register("saspTangoExpanderMetricsModule",function(a,b){return{publishTangoExpanderMetrics:function(){a.capabilities.mobile?(a.on("a:expander:sasp-tango-mobile-address-book-expander:toggle:expand",function(a){b.incrementCounter("Sasp_Tango:Mobile:ShowMoreAddresses")}),a.on("a:expander:sasp-tango-mobile-address-book-expander:toggle:collapse",function(a){b.incrementCounter("Sasp_Tango:Mobile:ShowFewerAddresses")})):
(a.on("a:expander:sasp-tango-non-mobile-address-book-expander:toggle:expand",function(a){b.incrementCounter("Sasp_Tango:Desktop::AddressBook:ShowMoreAddresses")}),a.on("a:expander:sasp-tango-non-mobile-address-book-expander:toggle:collapse",function(a){b.incrementCounter("Sasp_Tango:Desktop::AddressBook:ShowFewerAddresses")}),a.on("a:expander:sasp-tango-non-mobile-locker-address-book-expander:toggle:expand",function(a){b.incrementCounter("Sasp_Tango:Desktop::LockerAddressBook:ShowMoreAddresses")}),
a.on("a:expandersasp-tango-non-mobile-locker-address-book-expander:toggle:collapse",function(a){b.incrementCounter("Sasp_Tango:Desktop::LockerAddressBook:ShowFewerAddresses")}))}}});c.when("A","saspTangoExpanderMetricsModule","ready").execute("saspTangoExpanderMetrics",function(a,b){b.publishTangoExpanderMetrics()});"use strict";c.when("A").register("shipByMessage-accordion-helper",function(a){var b=a.$;a.declarative("a-sheet","click",function(a){a.$event&&a.$event.target&&"eShipping-learn-more-link"==
a.$event.target.id&&a.$event.stopPropagation()});a.on("a:accordion:shipByMessage-accordion:select",function(a){0<b("[data-a-accordion-name\x3d'destination-accordion']").find(".destination-accordion-row").length&&(a=b(".a-accordion-active.destination-accordion-row"),a.removeClass("a-accordion-active"),a.find(".destination-accordion-row-content").css("display","none"),a=a.find(".destination-accordion-row-header"),a.attr("aria-checked",!1),a.attr("aria-expanded",!1),a.find("i").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive"))})});
"use strict";c.when("A","address-select-csm-utils","address-select-session-storage-module","ready").register("add-new-address-gurupa-fallback-tango-desktop-module",function(a,b,e){var c=a.$,l=!1,g=0,h=function(){var a=d.location.href.split("#")[1],b=c("#"+a);if("add-new-address-popover-link"===a||0!==b.length)b.bind("click",function(){l=!0}),b.click()},k=function(){var a=setInterval(function(){g++;h();l&&(b.incrementCounter("SASP:Gurupa:AddNewShippingAddress:LinkClickSuccessful"),clearInterval(a));
20<=g&&(b.incrementCounter("SASP:Gurupa:AddNewShippingAddress:LinkClickUnsuccessful"),clearInterval(a),b.logError({message:"Failed in clicking `add-new-shipping-address` popover link on Gurupa SASP"},{logLevel:"FATAL",attribution:"SASP:Gurupa:AddNewShippingAddress:LinkClickUnsuccessful"}))},100)},f=function(){a.declarative("triggerAddNewShippingAddressAction","click",function(){b.incrementCounter("SASP:Gurupa:AddNewShippingAddress");e.setAddressActionKeyValue("addNewShippingAddress")})};return{addNewShippingAddressGurupaFallback:function(){if(d){var a=
d.location.href;a&&(-1!==a.indexOf("gp")?(a=e.getAddressActionKeyValue())&&"addNewShippingAddress"===a&&(k(),e.clearAddressActionKeyValue()):f())}},clickOnAddNewShippingAddressPopoverLinkWithInterval:k}});c.when("A","add-new-address-gurupa-fallback-tango-desktop-module","ready").execute("add-address-gurupa-fallback-tango-desktop",function(a,b){a.capabilities.mobile||b.addNewShippingAddressGurupaFallback()});"use strict";c.when("A","address-select-csm-utils","address-select-session-storage-module",
"ready").register("edit-address-gurupa-fallback-tango-desktop-module",function(a,b,e){var c=a.$,f="",g=!1,h=0,k=function(){var a=c(this);if(0===a.length)return!1;a=a.find('[data-action\x3d"a-modal"]');if(0===a.length)return!1;a=a.data("a-modal");if(0===a.length)return!1;a=a.url;return 0===a.length?!1:-1!==a.search(f)},p=function(){var a=c(this);if(0!==a.length&&(a=a.find('[data-action\x3d"a-modal"]'),0!==a.length))return a},n=function(){b.incrementCounter("SASP:Gurupa:EditAddress");if(f=d.location.href.split("#")[1]){var a=
c("#shipaddress");0!==a.length&&(a=a.find(".address-edit-link"),0!==a.length&&(a=a.filter(k).map(p).get(),0!==a.length&&(a[0].bind("click",function(){g=!0}),a[0].click())))}},m=function(){var a=setInterval(function(){h++;n();g&&(b.incrementCounter("SASP:Gurupa:EditAddress:LinkClickSuccessful"),clearInterval(a));20<=h&&(b.incrementCounter("SASP:Gurupa:EditAddress:LinkClickUnsuccessful"),clearInterval(a),b.logError({message:"Failed in clicking `edit-address` popover link on Gurupa SASP"},{logLevel:"FATAL",
attribution:"SASP:Gurupa:EditAddress:LinkClickUnsuccessful"}))},100)},q=function(){a.declarative("triggerEditShippingAddressAction","click",function(){e.setAddressActionKeyValue("editShippingAddress")})};return{editShippingAddressGurupaFallback:function(){if(d){var a=d.location.href;a&&(-1!==a.indexOf("gp")?(a=e.getAddressActionKeyValue())&&"editShippingAddress"===a&&(m(),e.clearAddressActionKeyValue()):q())}},clickOnEditAddressLinkWithInterval:m}});c.when("A","edit-address-gurupa-fallback-tango-desktop-module",
"ready").execute("edit-address-gurupa-fallback-tango-desktop",function(a,b){a.capabilities.mobile||b.editShippingAddressGurupaFallback()});"use strict";c.register("address-select-session-storage-module",function(){return{getAddressActionKeyValue:function(){return sessionStorage.getItem("addressAction")},setAddressActionKeyValue:function(a){sessionStorage.setItem("addressAction",a)},clearAddressActionKeyValue:function(){sessionStorage.removeItem("addressAction")}}});"use strict";c.register("address-select-csm-utils",
function(){return{incrementCounter:function(a){d.ue&&d.ue.count(a,(d.ue.count(a)||0)+1)},logError:function(a,b){d.ueLogError&&d.ueLogError(a,b)}}})});