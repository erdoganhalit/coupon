(function(n){var l=window.AmazonUIPageJS||window.P,t=l._namespace||l.attributeErrors,a=t?t("AmazonDayCheckoutAssets",""):l;a.guardFatal?a.guardFatal(n)(a,window):a.execute(function(){n(a,window)})})(function(n,l,t){n.when("A").register("amazonday-cache",function(a){return function(a){var f={};f.duration=a||15E4;return{put:function(a,c){a&&(delete f[a],f[a]={value:c,timestamp:Date.now()})},get:function(a){if(a&&f[a])if(Date.now()-f[a].timestamp>f.duration){delete f[a];var c=!1}else c=!0;else c=!1;
a=c?f[a].value:void 0;return a},remove:function(a){delete f[a]}}}});"use strict";n.when("A","page-detector","page-detector-current-page","page-conductor","amazonday-cache","amazonDayLogger","amazonDayLoggerConfig","amazonday-feature","checkout-general-utils").register("amazonday-service",function(a,h,f,x,c,p,g,y,b){function E(a){var b={MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,SUNDAY:7};a=a.slice(0);return a=a.sort(function(a,g){return b[a]-b[g]})}var v=a.$,l=c();return{selectDay:function(a,
c,n,da,L,I,F,z,ea,M,W){if("object"===typeof a){var r=a;a=r.day;c=r.addressId;n=r.lineItemId;ea=r.orderLineItemIds;M=r.originalLineItemId;W=r.originalLineItemIds;z=r.shippingOfferingId;F=r.queryParameters;da=r.isTrial;I=r.cacheable;L=r.returnType;var u=r.isShipOptionDefaulted;var oa=r.shouldSavePreference;var C=r.savePreferenceCheckboxEnabled;var k=r.isAmazonDayChewbaccaDayPickerSetterCXEnabled;var pa=r.purchaseId;var qa=r.eligibleDeliveryGroupId;var wa=r.eligibleDeliveryOptionId;var ya=r.isDeliveryOptionSelected;
r=r.originalLineItemIdsWithSameAddressId}oa===t&&(oa=1);a=Array.isArray(a)?E(a).toString():a;I===t&&(I=da);F=F||"";var Q=h.isTablet()||v(".checkout-sosp-tablet").length,P=g.AMAZONDAY.DEVICE_TYPES,J=h.isMobile()?P.MOBILE:Q?P.TABLET:P.DESKTOP,K=g.AMAZONDAY.COUNTER_METRICS;k&&pa&&!r&&p.logMetric(K.AD_MISSING_EXP_FIELD.concat("-",J),1);if(k&&pa&&r&&wa&&qa){p.logMetric(K.AD_PROFILE_SETTER_CALL.concat("-",J),1);var fa="/checkout/p/p-"+pa+"/eligibleshipoption/amazon-day-profile";b.isChewbaccaUrl()&&(fa+=
F);L={daysSelected:a,lineItemIds:r,eligibleGroupDeliveryOptionId:wa,eligibleDeliveryGroupId:qa,isShipOptionDefaulted:!!u,amazonDayShipOptionSelected:!!ya,shouldSavePreference:!!oa}}else p.logMetric(K.SETTER_FALLBACK.concat("-",J),1),null==M&&null==n&&p.logMetric(K.ORIGINAL_LINE_ITEM_ID_NULL_FROM_WEBAPP.concat("-",J),1),fa="/gp/buy/amazonday/spc/handlers/update-amazonday-options.html"+F,L={daysSelected:a,addressId:c,lineItemId:n,isTrial:da?1:0,returnJson:"json"===L?1:0,returnFullHTML:"html"===L?1:
0,shippingOfferingId:z,orderLineItemIds:ea,originalLineItemId:M,originalLineItemIds:W,isShipOptionDefaulted:u?1:0,shouldSavePreference:oa?1:0,savePreferenceCheckboxEnabled:y.isFeatureEnabled("SavePreferenceCheckbox")||C?1:0};F=x.setAjaxTransitionHeader({"x-amz-checkout-page":f.getCurrentPage(),"x-amz-checkout-transition":"ajax","x-amz-checkout-page-type":h.isSpc()?"CheckoutConfirmOrder":h.isSosp()?"CheckoutShipOption":t});var X=c+"_"+a+"_"+(n!==t?n:M);if(I&&(a=l.get(X))&&"function"===typeof a.always)return a;
var Y=g.AMAZONDAY.LATENCY_METRICS;a=g.AMAZONDAY.LATENCY_SCOPES;var ha=da?a.SET_TRIAL_PREFERENCE_AJAX:a.SET_SAVE_PREFERENCE_AJAX;p.logLatencyMetric(ha,Y.BODY_BEGIN,J);a=v.ajax({type:"POST",url:fa,data:L,dataType:"text",headers:F,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8;"});I&&l.put(X,a);a.always(function(){p.logLatencyMetric(ha,Y.BODY_END,J);p.logLatencyMetric(ha,Y.LOAD_FINISH,J)}).fail(function(){fa.startsWith("/gp/buy/amazonday/spc/handlers/")?p.logMetric(K.SET_SAVE_PREFERENCE_AJAX_FAILURE_GURUPA_FLOW.concat("-",
J),1):p.logMetric(K.SET_SAVE_PREFERENCE_AJAX_FAILURE.concat("-",J),1);l.remove(X)});return a},fetchDefaultingInfoHTML:function(){var a=l.get("fetchDefaultingInfoHTML");if(a&&"function"===typeof a.always)return a;a=v.get("/gp/buy/amazonday/shared/display/defaulting-info-bottom-sheet.html");l.put("fetchDefaultingInfoHTML",a);a.fail(function(){l.remove("fetchDefaultingInfoHTML")});return a}}});"use strict";n.when("A","page-detector","button-blocker","amazonday-feature").execute(function(a,h,f,x){function c(){if((h.isMobile()||
h.isTablet()||g(".checkout-sosp-tablet").length?g("div.one-shipment:visible"):g("div.order-display")).find("div.amazonday-continue-button-blocker-indicator").length){var a=g(".amazonday-continue-button-blocker-text").html();f.show(self,a,a);p||g(".continue-button-blocker").css("display","inline-block")}else f.hide(self)}var p=l.P&&l.P.AUI_BUILD_DATE,g=a.$;h.isTablet()||g(".checkout-sosp-tablet").length?f={hide:function(a){a=g("#bottom-continue-pane").find(".a-button");a.removeClass("a-button-disabled");
a.find("input").prop("disabled",!1);g(".amazonday-blocker-text").remove()},show:function(a,b,c){a=g("#bottom-continue-pane").find(".a-button");a.addClass("a-button-disabled");a.find("input").prop("disabled",!0);g("\x3cp class\x3d'amazonday-blocker-text a-row a-text-beside-button'\x3e"+c+"\x3c/p\x3e").insertAfter(a)}}:h.isMobile()&&(f={hide:function(a){g("div.one-shipment:visible").find(".sosp-continue-button").removeClass("aok-hidden");g(".sosp-continue-button-fake").remove();g(".amazonday-blocker-text").remove()},
show:function(a,b,c){g("div.one-shipment:visible").find(".sosp-continue-button").each(function(a,b){a=g(b);b=a.clone(!1).addClass("sosp-continue-button-fake a-button-disabled").removeClass("sosp-continue-button continue-button").insertAfter(a);a.addClass("aok-hidden");g("\x3cp class\x3d'amazonday-blocker-text a-row a-text-beside-button'\x3e"+c+"\x3c/p\x3e").insertAfter(b)})}});c();g(l).one("popstate",c);a.on("active-shipment-changed",function(){c();g(l).one("popstate",c)});a.on("checkout:reload:spc",
c);a.on("checkout:reload:shipoptionselect",c)});"use strict";n.when("A","page-spinner-controller","page-conductor","page-detector","datePickerCalendarInstanceManager","a-carousel-framework","amazonday-date-picker-service","amazonDayLogger","amazonDayLoggerConfig").register("amazonday-date-picker-controller",function(a,h,f,x,c,p,g,y,b){function l(){var a=z("div[id^\x3ddate-picker-calendar-amazon-day-date-picker-]");a.size()&&a.each(function(a,k){k.id.endsWith("-inline-block")&&(a=F(k.id),va.includes(a)||
(p.onInit(a,P),va.push(a)),v(k),(a=u(k.id.replace("date-picker-calendar-","")))&&!a.data.isSelected&&K(k).find(".date-picker-calendar-day-button.selected").removeClass("selected"))})}function v(a){var k=a.id,b=F(a.id);k=k.replace("date-picker-calendar-","");a=K(a);0!==a.find("#"+b).length&&a.empty();c.showCalendarInline(k,a)}function n(a){var k=a.calendarId.endsWith("-inline-block")?a.calendarId:a.calendarId+"-inline-block";k=k.replace(/^date-picker-calendar-/,"");!(k=u(k))||0===a.selectedDays.length||
k.data.isSelected&&k.data.defaultDatePickerSelectedSlotId===a.selectedDays[0]||(k.data.postData.deliveryPersistenceInformation={AmazonDayPersistenceInfo:{id:a.selectedDays[0],preferences:a.preferences||[]}},y.logMetric(b.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_SLOT_CLICK_ACTION,1),k.data.postData.deliveryPersistenceInformation=JSON.stringify(k.data.postData.deliveryPersistenceInformation),h.show(),g.saveAmazonDayPreferenceUsingDatePickerCalendar(k).done(function(a,k,b){f.ajaxUpdatePage(a,k,b,{pushNewFrame:"false"})}).always(function(){h.hide()}))}
function t(a,b){var k=[];a&&k.push("DEFAULT_TO_AMAZON_DAY");b?k.push("OFFER_PREFERRED_DAY_PROMISE"):k.push("OPT_OUT_AMAZON_DAY_PREFERENCES");return k}function u(a){a=z("#"+a+"-amazonday-persistence-info").children("script");try{var k=JSON.parse(a.text())}catch(qa){y.logMetric(b.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_PERSISTENCE_INFO_PARSE_ERROR,1),f.ajaxSorryPage()}return k}function K(a){a=a.id.replace("date-picker-calendar-","");return z("#amazonday-date-picker-calendar-container-"+a)}function P(k){var b=
k.getAttr("name");L(k);k="a:carousel:"+b+":change:pageNumber";if(!a.isListening(k))a.on(k,function(a){L(a.carousel,a.newValue,a.oldValue)})}function L(a,b,c){b=a.getAttr("pageNumber");var k="undefined"===typeof c?0:c;c=a.getAttr("totalPages");var g=a.dom.$container.find(".a-carousel").find("li").size(),f=Math.ceil(g/c);g=(b-1)*f;k=(k-1)*f;0<g&&z(a.dom.$container.find(".a-carousel").find("li").get(g)).css("margin-left","+\x3d20");0<k&&z(a.dom.$container.find(".a-carousel").find("li").get(k)).css("margin-left",
"-\x3d20");k=a.dom.$container.find(".a-carousel-goto-prevpage");a=a.dom.$container.find(".a-carousel-goto-nextpage");k.toggleClass("aok-hidden",1===b);a.toggleClass("aok-hidden",b===c)}function I(a){a.data.postData.deliveryPersistenceInformation=JSON.stringify(a.data.postData.deliveryPersistenceInformation);h.show();y.logLatencyMetric(W.AMAZONDAY_PYD_RECURRENCE_SETTER,M.TIME_CLICK,la);g.saveAmazonDayPreferenceUsingDatePickerCalendar(a).done(function(a,b,k){h.hide();f.ajaxUpdatePage(a,b,k,{pushNewFrame:"false"});
z(".checkout.spc.tablet").find(".a-expander-header").click()}).fail(function(a,b,k){y.logLatencyMetric(W.AMAZONDAY_PYD_RECURRENCE_SETTER,M.BODY_END,la);h.hide();f.ajaxRedirect(a,b,k)}).always(function(){y.logLatencyMetric(W.AMAZONDAY_PYD_RECURRENCE_SETTER,M.LOAD_FINISH,la)})}function F(a){var b=a.indexOf("date-picker-calendar-")+21;return a.slice(0,b)+"clone-"+a.slice(b)}var z=a.$,ea=x.isTablet()||z(".checkout-sosp-tablet").length,M=b.AMAZONDAY.LATENCY_METRICS,W=b.AMAZONDAY.LATENCY_SCOPES,r=b.AMAZONDAY.DEVICE_TYPES,
la=x.isMobile()?r.MOBILE:ea?r.TABLET:r.DESKTOP,va=[],C=!1;a.on("amazonday:datepickercalendar:confirmslotevent",function(a){n(a)});a.on("amazonday:datepickercalendar:clickslotevent",function(a){var b=a.calendarId.endsWith("-inline-block")?a.calendarId:a.calendarId+"-inline-block";(b=u(b))&&0!==a.selectedDays.length&&(b=b.data.promiseLabels[a.selectedDays[0]],z(".amazonday-datepicker-selected-date-info").removeClass("aok-hidden"),z(".amazonday-datepicker-selected-date-promise").html(b),a.selectedDays.length?
z(".amazonday-daypicker-save-and-continue").removeClass("a-button-disabled"):z(".amazonday-daypicker-save-and-continue").addClass("a-button-disabled"))});a.declarative("amazonday-inline-datepicker-recurrence-checkbox-change","change",function(a){if(null===a||null===a.data||null===a.data.calendarId)y.logMetric(b.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_RECURRENCE_CHECKBOX_MISSING_PARAMS,1);else if(a=a.data.calendarId.endsWith("-inline-block")?a.data.calendarId:a.data.calendarId+"-inline-block",a=a.replace(/^date-picker-calendar-/,
""),a=u(a),C=!C,a&&a.data.defaultDatePickerSelectedSlotDayOfWeek&&""!==a.data.defaultDatePickerSelectedSlotDayOfWeek){var c={id:a.data.defaultDatePickerSelectedSlotDayOfWeek,preferences:t(!0,C)};a.data.postData.deliveryPersistenceInformation={AmazonDayPersistenceInfo:c};y.logMetric(b.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_RECURRENCE_CHECKBOX_CLICK,1);I(a)}});a.on("checkout:reload",function(){z(".amazonday-inline-date-picker-recurrence-checkbox").length&&z(".amazonday-inline-date-picker-recurrence-checkbox").find("input").prop("checked",
C);z(".amazonday-datepicker-recurrence-expander").length&&(z(".amazonday-datepicker-recurrence-expander").removeAttr("href"),z(".amazonday-datepicker-recurrence-expander").removeClass("a-declarative"));l()});return{showAmazonDayInlineDatePickers:l,showAmazonDayInlineDatePicker:v,getADDatePickerCalendarCurrentSelection:function(a){a=a.replace(/^date-picker-calendar-/,"");return c.getSelectedDayIds(a).sort()},handleDatePickerConfirmSlotEvent:n,getDatePickerPreferences:t,getDatePickerPageStateData:u,
saveAmazonDayPreferenceEDGSetter:I,INLINE_DATE_PICKER_CALENDAR_SUFFIX:"-inline-block",CALENDAR_ID_PREFIX:"date-picker-calendar-"}});n.when("amazonday-date-picker-controller","ready").execute(function(a){a.showAmazonDayInlineDatePickers()});"use strict";n.when("A","page-detector","page-detector-current-page","page-conductor","amazonDayLogger","amazonDayLoggerConfig").register("amazonday-date-picker-service",function(a,h,f,x,c,p){var g=a.$;return{saveAmazonDayPreferenceUsingDatePickerCalendar:function(a){var b=
h.isTablet()||g(".checkout-sosp-tablet").length,f=p.AMAZONDAY.DEVICE_TYPES,l=h.isMobile()?f.MOBILE:b?f.TABLET:f.DESKTOP,y=p.AMAZONDAY.COUNTER_METRICS;b=a.data.setActionUrl;a=a.data.postData;c.logMetric(y.AD_DATE_PICKER_PROFILE_SETTER_CALL.concat("-",l),1);var n=p.AMAZONDAY.LATENCY_METRICS,u=p.AMAZONDAY.LATENCY_SCOPES.SET_AMAZONDAY_PREFERENCE_DATE_PICKER;c.logLatencyMetric(u,n.BODY_BEGIN,l);a=x.ajaxUpdate(b,a);a.always(function(){c.logLatencyMetric(u,n.BODY_END,l);c.logLatencyMetric(u,n.LOAD_FINISH,
l)}).fail(function(){c.logMetric(y.AD_DATE_PICKER_PROFILE_SETTER_CALL_FAILURE.concat("-",l),1)});return a}}});"use strict";n.when("A","page-spinner-controller","page-conductor","amazonday-service","page-detector","amazonDayLogger","amazonDayLoggerConfig").register("amazonday-day-inline-day-picker-controller",function(a,h,f,x,c,p,g){var l=a.$,b=c.isTablet()||l(".checkout-sosp-tablet").length,n=g.AMAZONDAY.LATENCY_METRICS,v=g.AMAZONDAY.LATENCY_SCOPES;g=g.AMAZONDAY.DEVICE_TYPES;var t=c.isMobile()?g.MOBILE:
b?g.TABLET:g.DESKTOP;a.declarative("amazonday-inline-day-picker-day-button","click",function(a){p.logLatencyMetric(v.SET_SAVE_PREFERENCE,n.BODY_BEGIN,t);h.show();x.selectDay(a.data.selection,a.data.addressId,a.data.lineItemId,!1,"html",!1,"?inlineDayPicker\x3d1").done(function(a,b,c){h.hide();f.ajaxUpdatePage(a,b,c,{pushNewFrame:"false"})}).fail(function(a,b,c){h.hide();f.ajaxRedirect(a,b,c)}).always(function(){p.logLatencyMetric(v.SET_SAVE_PREFERENCE,n.BODY_END,t);p.logLatencyMetric(v.SET_SAVE_PREFERENCE,
n.LOAD_FINISH,t)})});a.declarative("amazonday-daypicker-mobile-inline-button-changeover","click",function(){l("#ab-closed-days-disclaimer-mobile-inline").toggle()})});"use strict";n.when("A","page-spinner-controller","loading-spinner-controller","page-conductor","page-transition-controller","page-detector","a-popover-base","amazonday-service","amazonDayLogger","amazonDayLoggerConfig","amazonday-feature","amazonday-string","amazonday-day-picker-loader","amazonday-date-picker-controller","checkout-general-utils",
"amazonday-modal-npa-helper","amazonday-defaulting-info-deprecation-helper","amazonday-day-picker-twoamazondays-helper").register("amazonday-modal-day-picker-controller",function(a,h,f,x,c,p,g,y,b,E,v,da,oa,u,K,P,L,I){function F(a){b.logLatencyMetric(A.POPOVER_LOAD,q.BODY_END,m);v.isFeatureEnabled("NonADCustomer")?b.logMetric(G.NON_AD_CUSTOMER.concat("-",m),1):b.logMetric(G.AD_CUSTOMER.concat("-",m),1);d(a.popover.$trigger[0]).parents(".a-accordion-row").find("input").prop("disabled",!0);w=a.popover;
a=w.$trigger.data("a-modal").data;R=a.lineItemId;Z=a.addressId;ma=a.shippingOfferingId;S=a.orderLineItemIds;T=a.originalLineItemId;U=a.originalLineItemIds;N=B=ea(a);ia=a.savePreferenceCheckboxEnabled!==t&&1===a.savePreferenceCheckboxEnabled;xa=a.shouldSavePreference!==t&&1===a.shouldSavePreference;aa=a.isAmazonDayChewbaccaDayPickerSetterCXEnabled!==t&&!0===a.isAmazonDayChewbaccaDayPickerSetterCXEnabled;Aa=a.purchaseId;Ba=a.eligibleDeliveryGroupId;Ca=a.eligibleDeliveryOptionId;Da=a.isDeliveryOptionSelected;
ba=(v.isFeatureEnabled("SavePreferenceEnabled")||xa)&&0!==N.length;V=P.isShipOptionDefaultingEnabledCheck()?(Ea=a.isDefaultingEnabled!==t&&!0===a.isDefaultingEnabled)&&1===a.isShipOptionDefaulted:1===a.isShipOptionDefaulted;I.shouldSetIsTwoAmazonDaysFlag()&&(Fa=a.isTwoAmazonDays);ra=ba;Ga=a.originalLineItemIdsWithSameAddressId;Ha=a.isDefaultingEnabled;d(".amazonday-modal-day-picker-checkbox").find("input").prop("checked",V);(v.isFeatureEnabled("SavePreferenceCheckbox")||ia)&&d(".amazonday-modal-day-picker-save-preference-checkbox").find("input").prop("checked",
ra);aa?(ca()&&b.logMetric(G.SHOW_MULTIPLE_AMAZONDAY_DAY_PICKER_VIEW.concat("-",m),1),k(N)):ca()?(b.logMetric(G.SHOW_MULTIPLE_AMAZONDAY_DAY_PICKER_VIEW.concat("-",m),1),H=M(N),C(a),la(N)):(C(a),d('[data-action\x3d"amazonday-modal-daypicker-day-button"]').each(function(a,e){a=JSON.parse(d(e).attr("data-amazonday-modal-daypicker-day-button"));y.selectDay({day:a.day.literal,addressId:Z,lineItemId:R,orderLineItemIds:S,originalLineItemId:T,originalLineItemIds:U,isTrial:!0,returnType:"json",queryParameters:"?"+
ja("adPrefCache")})}));b.logLatencyMetric(A.POPOVER_LOAD,q.LOAD_FINISH,m)}function z(){m==na.DESKTOP&&d(".day-picker-trigger").each(function(a){d(this).keypress(function(a){13==a.keyCode&&a.currentTarget.click()})})}function ea(a){return Q(a)?a.selection.reduce(function(a,e){2>a.length&&a.push(e.selection);return a},[]):[]}function M(a){var e=[],b;for(b=0;2>b;b++)e.push(O);return a&&a.length?e=e.map(function(e,b){return b<a.length?a[b]:e}):e}function W(a){var e=[];a.find(".amazonday-modal-day-picker-days").each(function(a,
b){d(b).hasClass("a-button-selected")&&e.push(d(b).find("button").data("day"))});return e}function r(a,b){if(!a||!a.length||!b)return a;var e;if(-1===a.indexOf(b))for(e=0;e<a.length;e++){if(a[e]===O)return a[e]=b,a}else for(e=0;e<a.length;e++)if(a[e]===b)return a[e]=O,a}function la(a){var e=[];if(a&&a.length)if(1===a.length)d('[data-action\x3d"amazonday-modal-daypicker-day-button-multi-selection"]').each(function(b,c){b=JSON.parse(d(c).attr("data-amazonday-modal-daypicker-day-button-multi-selection"));
a[0]!==b.day.literal&&e.push([a[0],b.day.literal])});else if(2===a.length)e=a;else return;else d('[data-action\x3d"amazonday-modal-daypicker-day-button-multi-selection"]').each(function(a,b){a=JSON.parse(d(b).attr("data-amazonday-modal-daypicker-day-button-multi-selection"));e.push(a.day.literal)});e.forEach(function(a){y.selectDay({day:a,addressId:Z,lineItemId:R,orderLineItemIds:S,originalLineItemId:T,originalLineItemIds:U,isTrial:!0,returnType:"json",queryParameters:"?"+ja("adPrefCache")})})}function va(a,
b){if(a&&b&&a.length===b.length){var e=a.filter(function(a){return-1!==b.indexOf(a)}).filter(function(a,e,b){return b.indexOf(a)===e});return a.length===e.length&&b.length===e.length}return!1}function C(a){"string"===typeof a&&(a=JSON.parse(a.trim()));if(ca()){pa(a);wa(a);var e=a;Q(e)&&e.promise?d(".amazonday-daypicker-promise-value").html(e.promise):d(".amazonday-daypicker-promise-value").html("")}else Na(a),e=a,Q(e)&&e.promise?(d(".amazonday-daypicker-promise").show(),d(".amazonday-daypicker-promise-value").html(e.promise)):
(d(".amazonday-daypicker-promise").hide(),d(".amazonday-daypicker-promise-value").html(""));fa();e=a;Q(e)?J(e.selection.length)?d(".amazonday-daypicker-save-and-continue").addClass("a-button-disabled"):d(".amazonday-daypicker-save-and-continue").removeClass("a-button-disabled"):d(".amazonday-daypicker-save-and-continue").addClass("a-button-disabled");a&&a.adjustmentMessage?(d(".amazonday-daypicker-adjustment-message").show(),d(".amazonday-daypicker-adjustment-message-value").html(a.adjustmentMessage)):
(d(".amazonday-daypicker-adjustment-message").hide(),d(".amazonday-daypicker-adjustment-message-value").html(""))}function k(a){ca()?qa(a):za(a)?(d(".amazonday-modal-day-picker-days").removeClass("a-button-selected").attr("aria-checked","false"),d(".amazonday-daypicker-selected-day").show(),d(".amazonday-modal-day-picker-days."+a).addClass("a-button-selected").attr("aria-checked","true")):(d(".amazonday-daypicker-selected-day").hide(),d(".amazonday-daypicker-selected-day-value").html(""),d(".amazonday-modal-day-picker-days").removeClass("a-button-selected").attr("aria-checked",
"false"));if(za(a)){var e=Array.isArray(a);!ca()&&e&&2<=a.length?d(".amazonday-daypicker-save-and-continue").addClass("a-button-disabled"):d(".amazonday-daypicker-save-and-continue").removeClass("a-button-disabled")}else d(".amazonday-daypicker-save-and-continue").addClass("a-button-disabled");fa()}function pa(a){d(".amazonday-modal-day-picker-days").removeClass("a-button-selected").attr("aria-checked","false");d(".amazonday-modal-day-picker-days").each(function(a,e){d(e).find("button").data("selectable")&&
d(e).removeClass("a-button-disabled").attr("aria-checked","false")});Q(a)&&(a.selection.forEach(function(a){d(".amazonday-modal-day-picker-days."+a.selection).addClass("a-button-selected").attr("aria-checked","true")}),d(".amazonday-modal-day-picker-days").each(function(e,b){d(b).hasClass("a-button-selected")||2<=a.selection.length&&d(b).addClass("a-button-disabled")}))}function qa(a){d(".amazonday-modal-day-picker-days").removeClass("a-button-selected").attr("aria-checked","false");d(".amazonday-modal-day-picker-days").each(function(a,
e){d(e).find("button").data("selectable")&&d(e).removeClass("a-button-disabled").attr("aria-checked","false")});za(a)&&(a.forEach(function(a){d(".amazonday-modal-day-picker-days."+a).addClass("a-button-selected").attr("aria-checked","true")}),d(".amazonday-modal-day-picker-days").each(function(e,b){d(b).hasClass("a-button-selected")||2<=a.length&&d(b).addClass("a-button-disabled")}))}function wa(a){Array.isArray(H)&&2===H.length&&H[0]===O&&(H[0]=H[1],H[1]=O);var e=ya(H,a);d(".amazonday-daypicker-remove-link").get().forEach(function(a,
b){e[b%2]===O?d(a).addClass("aok-hidden"):d(a).removeClass("aok-hidden")});d(".amazonday-daypicker-selected-days-value-0").html(e[0]);d(".amazonday-daypicker-selected-days-value-1").html(e[1])}function ya(a,b){if(!a||!a.length||!Q(b))return[O,O];var e=b.selection,d=[],c=e.reduce(function(a,e){a.push(e.selection);return a},[]);if(a.filter(function(a){return-1!==c.indexOf(a)}).length!==e.length)for(b=0;b<a.length;b++)d[b]=b<e.length?e[b].plural:O;else for(b=0;b<a.length;b++)d[b]=-1!==c.indexOf(a[b])?
e[c.indexOf(a[b])].plural:O;return d}function Q(a){return a&&a.selection&&a.selection.length}function za(a){var b=Array.isArray(a)?a.length:!0;return a&&b}function J(a){return!ca()&&2<=a}function Na(a){if(Q(a)){d(".amazonday-modal-day-picker-days").removeClass("a-button-selected").attr("aria-checked","false");d(".amazonday-daypicker-selected-day").show();var b=d.map(a.selection,function(a){return a.caption}).join(da.getString("ad-day-picker-multiple-preference-comma"));d(".amazonday-daypicker-selected-day-value").html(b);
a.selection.forEach(function(a){d(".amazonday-modal-day-picker-days."+a.selection).addClass("a-button-selected").attr("aria-checked","true")})}else d(".amazonday-daypicker-selected-day").hide(),d(".amazonday-daypicker-selected-day-value").html(""),d(".amazonday-modal-day-picker-days").removeClass("a-button-selected").attr("aria-checked","false")}function fa(){Ha?d(".amazonday-modal-day-picker-checkbox").show():d(".amazonday-modal-day-picker-checkbox").hide()}function X(){return aa!==t&&aa?!0:!1}function Y(){if(m==
na.MOBILE){var a=d(".amazonday-daypicker-save-and-continue")[0];ha(a)||(a=a.getBoundingClientRect().top+10,d("#amazonday-daypicker-scroller").scrollTop(a))}}function ha(a){if(a)return a=a.getBoundingClientRect(),0<=a.top&&0<=a.left&&a.bottom<=(l.innerHeight||document.documentElement.clientHeight)&&a.right<=(l.innerWidth||document.documentElement.clientWidth)}function ja(a){return"ref_\x3dchk_"+((p.isSpc()?"spc":p.isSosp()?"sosp":"unknown")+"_")+a}function La(){w&&Ma&&sa&&w.$container.remove()}function ca(){return I.isTwoAmazonDaysFeatureEnabled(v.isFeatureEnabled("TwoAmazonDays"),
Fa)}var Ma=l.P&&l.P.AUI_BUILD_DATE,d=a.$,N,B,Z,R,ma,S,T,U,V,ra,H,ia,xa,aa,Ha,Ea,Fa,Aa,Ba,Ca,Da,Ga,w,D,Ia,ka,ta,ba,sa;c=p.isTablet()||d(".checkout-sosp-tablet").length;var q=E.AMAZONDAY.LATENCY_METRICS,A=E.AMAZONDAY.LATENCY_SCOPES,na=E.AMAZONDAY.DEVICE_TYPES,m=p.isMobile()?na.MOBILE:c?na.TABLET:na.DESKTOP,Ja=E.AMAZONDAY.AMAZONDAY_SHIP_OPTION_DEFAULTING_METRICS.SET_AMAZONDAY_DEFAULT_SHIP_OPTION,Ka=E.AMAZONDAY.AMAZONDAY_SHIP_OPTION_DEFAULTING_METRICS.UNSET_AMAZONDAY_DEFAULT_SHIP_OPTION,ua=E.AMAZONDAY.AMAZONDAY_SHIP_OPTION_DEFAULTING_METRICS.AMAZONDAY_SHIP_OPTION_DEFAULTING_DETAIL_LINK_ON_DAY_PICKER,
G=E.AMAZONDAY.COUNTER_METRICS,O=da.getString("ad-day-picker-multiple-preference-unset-value","---");z();a.on("checkout:reload:spc",z);n.when("a-sheet").execute(function(e){function c(a){b.logLatencyMetric(A.BOTTOM_SHEET_LOAD,q.BODY_END,m);v.isFeatureEnabled("NonADCustomer")?b.logMetric(G.NON_AD_CUSTOMER.concat("-",m),1):b.logMetric(G.AD_CUSTOMER.concat("-",m),1);if(sa=a.data.data.renderModalInAjax)D=a.sheet;ka=a.$target.parents(".selectable-box").find('input[type\x3d"radio"]');ka.prop("disabled",
!0);R=a.data.data.lineItemId;Z=a.data.data.addressId;ma=a.data.data.shippingOfferingId;S=a.data.data.orderLineItemIds;T=a.data.data.originalLineItemId;U=a.data.data.originalLineItemIds;N=B=ea(a.data.data);ia=a.data.data.savePreferenceCheckboxEnabled!==t&&1===a.data.data.savePreferenceCheckboxEnabled;xa=a.data.data.shouldSavePreference!==t&&1===a.data.data.shouldSavePreference;aa=a.data.data.isAmazonDayChewbaccaDayPickerSetterCXEnabled!==t&&!0===a.data.data.isAmazonDayChewbaccaDayPickerSetterCXEnabled;
Aa=a.data.data.purchaseId;Ba=a.data.data.eligibleDeliveryGroupId;Ca=a.data.data.eligibleDeliveryOptionId;Da=a.data.data.isDeliveryOptionSelected;Ga=a.data.data.originalLineItemIdsWithSameAddressId;ba=(v.isFeatureEnabled("SavePreferenceEnabled")||xa)&&0!==N.length;V=P.isShipOptionDefaultingEnabledCheck()?(Ea=a.data.data.isDefaultingEnabled!==t&&!0===a.data.data.isDefaultingEnabled)&&1===a.data.data.isShipOptionDefaulted:1===a.data.data.isShipOptionDefaulted;I.shouldSetIsTwoAmazonDaysFlag()&&(Fa=a.data.data.isTwoAmazonDays);
ra=ba;Ha=a.data.data.isDefaultingEnabled;d(".amazonday-modal-day-picker-checkbox").find("input").prop("checked",V);(v.isFeatureEnabled("SavePreferenceCheckbox")||ia)&&d(".amazonday-modal-day-picker-save-preference-checkbox").find("input").prop("checked",ra);aa?(ca()&&b.logMetric(G.SHOW_MULTIPLE_AMAZONDAY_DAY_PICKER_VIEW.concat("-",m),1),k(B)):ca()?(b.logMetric(G.SHOW_MULTIPLE_AMAZONDAY_DAY_PICKER_VIEW.concat("-",m),1),H=M(N),C(a.data.data),la(N)):(C(a.data.data),d('[data-action\x3d"amazonday-modal-daypicker-day-button"]').each(function(a,
b){a=JSON.parse(d(b).attr("data-amazonday-modal-daypicker-day-button"));y.selectDay({day:a.day.literal,addressId:Z,lineItemId:R,orderLineItemIds:S,originalLineItemId:T,originalLineItemIds:U,isTrial:!0,returnType:"json",queryParameters:"?"+ja("adPrefCache")})}));D||sa||(D=e.create({name:"amazonday-modal-day-picker",duration:.3,preloadDomId:"a-popover-amazonday-modal-day-picker",height:400,closeType:"icon",sheetType:"web"}));L.isDefaultingInfoDeprecationEnabled()?b.logMetric(G.AD_DEFAULTING_INFO_DEPRECATION.concat("-",
m),1):y.fetchDefaultingInfoHTML();D.show();b.logLatencyMetric(A.BOTTOM_SHEET_LOAD,q.LOAD_FINISH,m)}function g(){D&&(sa||D.$container.remove(),D=t)}a.declarative("amazonday-click-show-bottom-sheet-day-picker","click",function(a){ka=a.$target.parents(".selectable-box").find('input[type\x3d"radio"]');ka.prop("disabled",!0);var b=a.$currentTarget.find('[data-action\x3d"amazonday-show-bottom-sheet-day-picker"]');b.is(a.$target)||b.has(a.$target).length||b.click()});a.declarative("amazonday-show-bottom-sheet-day-picker",
"click",c);a.on("a:sheet:beforeShow:amazonday-modal-day-picker",function(a){b.logLatencyMetric(A.BOTTOM_SHEET_LOAD,q.TIME_CLICK,m)});a.on("a:sheet:ajaxContentLoaded:amazonday-modal-day-picker",c);a.declarative("amazonday-clicked-for-defaulting-info-bottom-sheet","click",function(c){function g(){a.one("a:sheet:afterHide:amazonday-modal-day-picker",function(){Ia.show();a.one("a:sheet:afterHide:amazonday-defaulting-info-bottom-sheet",function(){D.show()})});D.hide()}b.logLatencyMetric(ua,q.BODY_BEGIN,
m);Ia?(g(),b.logLatencyMetric(ua,q.BODY_END,m),b.logLatencyMetric(ua,q.LOAD_FINISH,m)):(h.show(),y.fetchDefaultingInfoHTML().always(function(){h.hide();b.logLatencyMetric(ua,q.BODY_END,m);b.logLatencyMetric(ua,q.LOAD_FINISH,m)}).done(function(a){a={name:"amazonday-defaulting-info-bottom-sheet",duration:.3,inlineContent:d.trim(a),height:400,closeType:"icon",sheetType:"web"};Ia=e.create(a);g()}))});a.on("a:sheet:afterHide:amazonday-modal-day-picker",function(a){ka&&ka.prop("disabled",!1);ka=t});a.on("a:sheet:afterShow:amazonday-modal-day-picker",
function(){if(m==na.MOBILE){var a=d("#amazonday-daypicker-days-list .a-list-item");0<a.length&&ha(a[0])&&ha(a[a.length-1])||d("#amazonday-daypicker-days-scroller").scrollLeft(27)}});a.on("checkout:reload:spc",g);a.on("checkout:reload:shipoptionselect",g)});a.on("a:popover:show:amazonday-modal-day-picker",F);a.on("a:popover:ajaxContentLoaded:amazonday-modal-day-picker",F);a.on("a:popover:beforeShow:amazonday-modal-day-picker",function(e){function d(){g.apply(c,arguments);a.trigger("a:popover:ajaxContentLoaded:amazonday-modal-day-picker",
e)}b.logLatencyMetric(A.POPOVER_LOAD,q.TIME_CLICK,m);var c=e.popover,g=c.show;Ma||g.isAmazonDayCustomized||(d.isAmazonDayCustomized=!0,c.show=d)});a.on("a:popover:hide:amazonday-modal-day-picker",function(a){d(a.popover.$trigger[0]).parents(".a-accordion-row").not(".amazon-day-ship-option-upsell").find("input").prop("disabled",!1);T=U=ma=S=N=B=H=R=t;C();sa=a.popover.data.renderModalInAjax});a.on("checkout:reload:spc",La);a.on("checkout:reload:shipoptionselect",La);a.declarative("amazonday-modal-daypicker-day-button",
"click",function(a){if(a.$currentTarget.find(".amazonday-modal-day-picker-days").hasClass("a-button-disabled"))return!1;X()||b.logLatencyMetric(A.SET_TRIAL_PREFERENCE,q.TIME_CLICK,m);b.logMetric(G.DAY_BUTTON_CLICK);B=a.data.day.literal?[a.data.day.literal]:[];b.logMetric(G.DAY_BUTTON_CLICK+"-"+B.join(","));w?f.showSpinner(w.$popover,!1,w):h.show();X()?(k(a.data.day.literal),w?f.hideSpinner(w.$popover):h.hide(),Y()):y.selectDay({day:a.data.day.literal,addressId:Z,lineItemId:R,orderLineItemIds:S,originalLineItemId:T,
originalLineItemIds:U,isTrial:!0,returnType:"json",queryParameters:"?"+ja("adPrefSelect")}).always(function(){b.logLatencyMetric(A.SET_TRIAL_PREFERENCE,q.BODY_END,m);w?f.hideSpinner(w.$popover):h.hide()}).done(function(a){C(a);Y();b.logLatencyMetric(A.SET_TRIAL_PREFERENCE,q.LOAD_FINISH,m)}).fail(function(){C()})});a.declarative("amazonday-modal-daypicker-day-button-multi-selection","click",function(a){if(a.$currentTarget.find(".amazonday-modal-day-picker-days").hasClass("a-button-disabled"))return!1;
X()||b.logLatencyMetric(A.SET_MULTI_PREFERENCES,q.TIME_CLICK,m);a.$currentTarget.find(".amazonday-modal-day-picker-days").toggleClass("a-button-selected");B=W(a.$target.parents("#amazonday-daypicker-days-list"));H=r(H,a.data.day.literal);B.length?(w?f.showSpinner(w.$popover,!1,w):h.show(),aa?(k(B),w?f.hideSpinner(w.$popover):h.hide(),Y()):y.selectDay({day:B,addressId:Z,lineItemId:R,orderLineItemIds:S,originalLineItemId:T,originalLineItemIds:U,isTrial:!0,returnType:"json",queryParameters:"?"+ja("adPrefSelect")}).always(function(){b.logLatencyMetric(A.SET_MULTI_PREFERENCES,
q.BODY_END,m);w?f.hideSpinner(w.$popover):h.hide()}).done(function(a){C(a);Y();b.logLatencyMetric(A.SET_MULTI_PREFERENCES,q.LOAD_FINISH,m)}).fail(function(){C()})):X()?k():C()});a.declarative("amazonday-daypicker-remove-day","click",function(a){b.logLatencyMetric(A.REMOVE_PREFERENCE,q.BODY_BEGIN,m);d(".amazonday-modal-day-picker-days."+H[a.data.index]).each(function(){d(this).click();return!1});b.logLatencyMetric(A.REMOVE_PREFERENCE,q.BODY_END,m);b.logLatencyMetric(A.REMOVE_PREFERENCE,q.LOAD_FINISH,
m)});a.declarative("amazonday-modal-daypicker-save","click",function(a){if(!a.$currentTarget.find(".amazonday-daypicker-save-and-continue").hasClass("a-button-disabled")&&B&&B.length){w&&g.hide(w.id);D&&D.hide();ta=P.isShipOptionDefaultingEnabledCheck()?v.isFeatureEnabled("DefaultingCheckboxEnabled")||Ea?d(".amazonday-modal-day-picker-checkbox").find("input").last().prop("checked"):!1:d(".amazonday-modal-day-picker-checkbox").find("input").last().prop("checked");if(v.isFeatureEnabled("SavePreferenceCheckbox")||
ia)ba=d(".amazonday-modal-day-picker-save-preference-checkbox").find("input").last().prop("checked");if(!va(B,N)||V!==ta||(v.isFeatureEnabled("SavePreferenceCheckbox")||ia)&&ra!==ba)J(B.length)&&(B=B.splice(1)),!0===V&&!1===ta&&(b.logLatencyMetric(Ka,q.BODY_BEGIN,m),b.logLatencyMetric(Ka,q.BODY_END,m),b.logLatencyMetric(Ka,q.LOAD_FINISH,m)),!1===V&&!0===ta&&(b.logLatencyMetric(Ja,q.BODY_BEGIN,m),b.logLatencyMetric(Ja,q.BODY_END,m),b.logLatencyMetric(Ja,q.LOAD_FINISH,m)),h.show(),b.logLatencyMetric(A.SET_SAVE_PREFERENCE,
q.TIME_CLICK,m),a="?"+ja("adPrefSave"),K.isChewbaccaUrl()&&(a+="\x26pipelineType\x3dChewbacca"),y.selectDay({day:B,addressId:Z,lineItemId:R,orderLineItemIds:S,originalLineItemId:T,originalLineItemIds:U,shippingOfferingId:ma,queryParameters:a,isTrial:!1,cacheable:!1,returnType:"html",isShipOptionDefaulted:ta,shouldSavePreference:ba,savePreferenceCheckboxEnabled:ia,isAmazonDayChewbaccaDayPickerSetterCXEnabled:aa,purchaseId:Aa,eligibleDeliveryGroupId:Ba,eligibleDeliveryOptionId:Ca,isDeliveryOptionSelected:Da,
originalLineItemIdsWithSameAddressId:Ga}).done(function(a,e,c){b.logLatencyMetric(A.SET_SAVE_PREFERENCE,q.BODY_END,m);h.hide();x.ajaxUpdatePage(a,e,c,{pushNewFrame:"false"});v.notifyFeatureChanges();v.isFeatureEnabled("SavePreferenceEnabled")!==ba?b.logMetric(G.SAVE_PREFERENCE_ENABLED_FEATURE_INCONSISTENCY.concat("-",m),1):b.logMetric(G.SAVE_PREFERENCE_ENABLED_FEATURE_INCONSISTENCY.concat("-",m),0);d(".checkout.spc.tablet").find(".a-expander-header").click();v.isFeatureEnabled("SelectADSOAfterSetPreference")&&
d("[data-shippingofferingid\x3d'"+ma+"']").click()}).fail(function(a,b,e){h.hide();x.ajaxRedirect(a,b,e)}).always(function(){b.logLatencyMetric(A.SET_SAVE_PREFERENCE,q.LOAD_FINISH,m)})}});a.declarative("amazonday-click-shipoption-multiple-ad-recommendation-message","click",function(a){b.logLatencyMetric(A.SET_RECOMMENDED_PREFERENCE,q.TIME_CLICK,m);var e=a.data.data.recommendedPreference.reduce(function(a,b){a.push(b.selection);return a},[]);e.push(a.data.data.preference[0].selection);h.show();y.selectDay({day:e,
addressId:a.data.data.addressId,lineItemId:a.data.data.lineItemId,orderLineItemIds:a.data.data.orderLineItemIds,shippingOfferingId:a.data.data.shippingOfferingId,queryParameters:"?"+ja("adPrefSave"),isTrial:!1,cacheable:!1,returnType:"html",isShipOptionDefaulted:a.data.data.isShipOptionDefaulted}).done(function(a,e,c){b.logLatencyMetric(A.SET_RECOMMENDED_PREFERENCE,q.BODY_END,m);h.hide();x.ajaxUpdatePage(a,e,c,{pushNewFrame:"false"});d(".checkout.spc.tablet").find(".a-expander-header").click();v.isFeatureEnabled("SelectADSOAfterSetPreference")&&
d("[data-shippingofferingid\x3d'"+ma+"']").click()}).fail(function(a,b,e){h.hide();x.ajaxRedirect(a,b,e)}).always(function(){b.logLatencyMetric(A.SET_RECOMMENDED_PREFERENCE,q.LOAD_FINISH,m)})});a.declarative("amazonday-modal-daypicker-pyd-recurrence-save-preference","click",function(a){if(null===a||null===a.data||null===a.data.calendarId)b.logMetric(E.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_RECURRENCE_SAVE_PREFERENCE_MISSING_PARAMS,1);else if(a=a.data.calendarId.endsWith(u.INLINE_DATE_PICKER_CALENDAR_SUFFIX)?
a.data.calendarId:a.data.calendarId+u.INLINE_DATE_PICKER_CALENDAR_SUFFIX,a=a.replace(new RegExp("^"+u.CALENDAR_ID_PREFIX),""),(a=u.getDatePickerPageStateData(a))&&B&&a.data){w&&g.hide(w.id);D&&D.hide();var e={id:B[0],preferences:u.getDatePickerPreferences(!1,!0)};a.data.postData.deliveryPersistenceInformation={AmazonDayPersistenceInfo:e};b.logMetric(E.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_RECURRENCE_SAVE_PREFERENCE_CLICK,1);u.saveAmazonDayPreferenceEDGSetter(a)}});a.declarative("amazonday-modal-daypicker-pyd-recurrence-remove-preference",
"click",function(a){if(null===a||null===a.data||null===a.data.calendarId)b.logMetric(E.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_RECURRENCE_REMOVE_PREFERENCE_MISSING_PARAMS,1);else if(a=a.data.calendarId.endsWith(u.INLINE_DATE_PICKER_CALENDAR_SUFFIX)?a.data.calendarId:a.data.calendarId+u.INLINE_DATE_PICKER_CALENDAR_SUFFIX,a=a.replace(new RegExp("^"+u.CALENDAR_ID_PREFIX),""),(a=u.getDatePickerPageStateData(a))&&a.data){w&&g.hide(w.id);D&&D.hide();var c={id:a.data.defaultDatePickerSelectedSlotDayOfWeek,
preferences:u.getDatePickerPreferences(!1,!1)};a.data.postData.deliveryPersistenceInformation={AmazonDayPersistenceInfo:c};b.logMetric(E.AMAZONDAY.COUNTER_METRICS.AD_DATE_PICKER_RECURRENCE_REMOVE_PREFERENCE_CLICK,1);u.saveAmazonDayPreferenceEDGSetter(a)}})});"use strict";n.when("A").register("amazonday-day-picker-loader",function(a){var h=a.$,f,x,c,p;a.declarative("a-sheet","click",function(a){f=a.$target.parents(".selectable-box").find('input[type\x3d"radio"]');a.data.preloadDomId&&!1===a.data.preloadDomId.startsWith("scope-of-work")&&
f.prop("disabled",!0);a&&a.data&&"amazonday-modal-day-picker"===a.data.name&&(x=a.data,c=a)});a.on("a:sheet:beforeShow:amazonday-modal-day-picker",function(g){var f=g.sheet.getContentContainer();c.sheet=g.sheet;f.html()&&'\x3cspan class\x3d"a-spinner a-spinner-medium amazonday-bottomsheet-spinner"\x3e\x3c/span\x3e\n'!==f.html()?x&&x.data&&x.data.renderModalInAjax&&a.trigger("a:sheet:ajaxContentLoaded:amazonday-modal-day-picker",c):(f.html('\x3cspan class\x3d"a-spinner a-spinner-medium amazonday-bottomsheet-spinner"\x3e\x3c/span\x3e\n'),
h.get(x.url).done(function(b){f.html(b);p=g;a.trigger("a:sheet:ajaxContentLoaded:amazonday-modal-day-picker",c)}))});return{getData:function(){return p}}});"use strict";n.when("A","amazonDayLogger","amazonDayLoggerConfig","page-detector").register("amazonday-modal-sustainability",function(a,h,f,x){function c(a){h.logMetric(g.SUSTAINABILITY_MORE_DETAILS_CLICK.concat("-",l),1)}var p=a.$;p=x.isTablet()||p(".checkout-sosp-tablet").length;var g=f.AMAZONDAY.COUNTER_METRICS;f=f.AMAZONDAY.DEVICE_TYPES;var l=
x.isMobile()?f.MOBILE:p?f.TABLET:f.DESKTOP;a.on("a:sheet:beforeShow:sustainability-messaging",c);a.on("a:popover:beforeShow:sustainability-messaging",c)});"use strict";n.register("amazonDayLoggerConfig",function(){return{AMAZONDAY:{DEVICE_TYPES:{MOBILE:"mobile",DESKTOP:"desktop",TABLET:"tablet"},LATENCY_SCOPES:{POPOVER_LOAD:"amazonDay-popoverLoad",BOTTOM_SHEET_LOAD:"amazonDay-bottomSheetLoad",SET_SAVE_PREFERENCE:"amazonDay-save",SET_TRIAL_PREFERENCE:"amazonDay-trial",SET_MULTI_PREFERENCES:"amazonDay-set-multi-preferences",
SET_RECOMMENDED_PREFERENCE:"amazonDay-set-recommended-preference",REMOVE_PREFERENCE:"amazonDay-remove-preference",SET_SAVE_PREFERENCE_AJAX:"amazonDay-save-ajax",SET_TRIAL_PREFERENCE_AJAX:"amazonDay-trial-ajax",SET_AMAZONDAY_PREFERENCE_DATE_PICKER:"amazonDay-datePicker-set-preference",AMAZONDAY_PYD_RECURRENCE_SETTER:"amazonDay-pyd-recurrence-setter",SET_TRIAL_SCOPE:"amazonDay-selectDay",SET_SAVE_SCOPE:"amazonDay-savePref",AJAX_PAGE_UPDATE_SCOPE:"amazonDay-savePref-ajaxPageUpdate",AJAX_CALL_SCOPE:"amazonDay-savePref-ajaxCall"},
LATENCY_METRICS:{TIME_CLICK:"tc",BODY_BEGIN:"bb",BODY_END:"be",CRITICAL_FEATURE:"cf",LOAD_FINISH:"ld"},AMAZONDAY_SHIP_OPTION_DEFAULTING_METRICS:{SET_AMAZONDAY_DEFAULT_SHIP_OPTION:"setAmazonDayDefaultShipOptionByDayPicker",UNSET_AMAZONDAY_DEFAULT_SHIP_OPTION:"unsetAmazonDayDefaultShipOptionByDayPicker",AMAZONDAY_SHIP_OPTION_DEFAULTING_DETAIL_LINK_ON_DAY_PICKER:"amazonDayShipOptionDefaultingDetailLinkOnDayPicker"},COUNTER_METRICS:{DAY_BUTTON_CLICK:"dayButtonClick",SAVE_AND_CONTINUE_CLICK:"saveAndContinueClick",
SHOW_MULTIPLE_AMAZONDAY_DAY_PICKER_VIEW:"showMultipleAmazonDayDayPickerView",NON_AD_CUSTOMER:"amazonDay-nonADCustomer",AD_CUSTOMER:"amazonDay-ADCustomer",SET_SAVE_PREFERENCE_AJAX_FAILURE:"amazonDay-save-ajax-failure",SET_SAVE_PREFERENCE_AJAX_FAILURE_GURUPA_FLOW:"amazonDay-save-ajax-failure-Gurupa-Flow",AD_PROFILE_SETTER_CALL:"amazonDay-profile-setter",AD_MISSING_EXP_FIELD:"amazonDay-missing-experimental-field-for-setter-call",AD_DATE_PICKER_PROFILE_SETTER_CALL:"amazonDay-datePicker-profile-setter",
AD_DATE_PICKER_PROFILE_SETTER_CALL_FAILURE:"amazonDay-datePicker-profile-setter-failure",AD_DATE_PICKER_RENDERED_ON_BOTTOM_SHEET:"amazonDay-datePicker-rendered-on-bottom-sheet",AD_DATE_PICKER_RENDERED_ON_POP_OVER:"amazonDay-datePicker-rendered-on-pop-over",AD_DATE_PICKER_PERSISTENCE_INFO_PARSE_ERROR:"amazonDay-datePicker-persistence-info-parse-error",AD_DATE_PICKER_SLOT_CLICK_ACTION:"amazonDay-datePicker-slot-calendar-day-selected",AD_DATE_PICKER_RECURRENCE_CHECKBOX_CLICK:"amazonDay-datePicker-recurrence-checkbox-click",
AD_DATE_PICKER_RECURRENCE_CHECKBOX_MISSING_PARAMS:"amazonDay-datePicker-recurrence-checkbox-missing-params",AD_DATE_PICKER_RECURRENCE_SAVE_PREFERENCE_CLICK:"amazonDay-datePicker-save-preference-click",AD_DATE_PICKER_RECURRENCE_SAVE_PREFERENCE_MISSING_PARAMS:"amazonDay-datePicker-save-preference-missing-params",AD_DATE_PICKER_RECURRENCE_REMOVE_PREFERENCE_CLICK:"amazonDay-datePicker-recurrence-remove-preference-click",AD_DATE_PICKER_RECURRENCE_REMOVE_PREFERENCE_MISSING_PARAMS:"amazonDay-datePicker-remove-preference-missing-params",
SETTER_FALLBACK:"setter-fallback",SAVE_PREFERENCE_ENABLED_FEATURE_INCONSISTENCY:"save-preference-enabled-feature-inconsistency",ORIGINAL_LINE_ITEM_ID_NULL_FROM_WEBAPP:"original-line-item-id-null-from-webapp",SUSTAINABILITY_MORE_DETAILS_CLICK:"amazonDay-sustainability-learn-more",AD_SPC_STRIPE_CLICK_COUNT:"amazon-day-spc-stripe-click-counter",AD_DEFAULTING_INFO_DEPRECATION:"amazon-day-defaulting-info-deprecation"}}}});"use strict";n.when("amazonDayLoggerConfig").register("amazonDayLogger",function(a){var h,
f;return{logMetric:function(a,c){if("undefined"!==typeof l.ue&&"undefined"!==typeof a&&"undefined"!==typeof l.ue.count){var f=l.ue.count(a)||0;l.ue.count(a,f+(c||1))}},logException:function(a,c){"undefined"!==typeof l.ueLogError&&l.ueLogError(a,c)},logLatencyMetric:function(f,c,h){"function"===typeof l.uet&&(f=f+"-"+h,a.AMAZONDAY.LATENCY_METRICS.LOAD_FINISH===c?l.uex(c,f,{wb:1}):l.uet(c,f,{wb:1}))},getScopeNameWithCount:function(a){l.ue&&h!==l.ue.id&&(h=l.ue.id,f={});var c=f[a]||"";f[a]=(f[a]||0)+
1;return a+c}}});"use strict";n.when("A").register("amazonday-feature",function(a){function h(){var c={},f=document.getElementById("amazonday-feature-indicator-container");f&&(f=f.getAttribute("enabled-features"))&&a.each(f.split(" "),function(a){c[a]=!0});return c}function f(){var c=h(),f=a.diff(c,l);a.each(f,function(f,h){a.trigger("amazonday:feature:"+h,c[h])});l=c}var l={};l=h();a.on("checkout:reload:spc",f);a.on("checkout:reload:shipoptionselect",f);return{isFeatureEnabled:function(a){return!!l[a]},
notifyFeatureChanges:f}});"use strict";n.when("A").register("amazonday-string",function(a){var h=a.$;return{getString:function(a,l){return(a=h("#amazonday-string-container").data(a))?a:l}}});n.register("amazonday-modal-npa-helper",function(){return{isShipOptionDefaultingEnabledCheck:function(){return!1}}});n.register("amazonday-defaulting-info-deprecation-helper",function(){return{isDefaultingInfoDeprecationEnabled:function(){return!1}}});n.register("amazonday-day-picker-twoamazondays-helper",function(){return{isTwoAmazonDaysFeatureEnabled:function(a,
h){return a||h},shouldSetIsTwoAmazonDaysFlag:function(){return!0}}})});